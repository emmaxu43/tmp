Grading at 03/23/2024:15:26:33.076896
For commit ID b1c04540cb1d79d74749f362aeff3d2eb201be84
Grading at Sat Mar 23 11:26:31 AM EDT 2024
Doing some basic checking for your submission

Step 1
Checking that story-step1 compiles
rm -f *~ story-step1 story-step2 story-step3  story-step1.o story-step2.o story-step3.o rand_story.o
gcc -std=gnu99 -pedantic -Wall -Werror -ggdb3 -c rand_story.c
gcc -std=gnu99 -pedantic -Wall -Werror -ggdb3 -c story-step1.c
gcc -o story-step1 story-step1.o rand_story.o provided.o
rm story-step1.o
The code compiled (good)
Executable story-step1 exists (good)
Checking with provided test case story.txt
Your file matched the expected output
Now running YOUR tests for step 1

1.1: Current test is story-step1 story.txt
-----------------------------
Your output looks good. Lets check valgrind
Valgrind reported errors or memory leaks:
==62965== Memcheck, a memory error detector
==62965== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==62965== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==62965== Command: ./story-step1 story.txt
==62965== Parent PID: 62964
==62965== 
==62965== Invalid read of size 1
==62965==    at 0x484FF90: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912c6 is 38 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid write of size 1
==62965==    at 0x484FF93: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912c1 is 33 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 1
==62965==    at 0x484FF9D: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912c8 is 40 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid write of size 2
==62965==    at 0x484FF63: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F28: replace_blanks (rand_story.c:190)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912be is 30 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid write of size 1
==62965==    at 0x484FF93: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F28: replace_blanks (rand_story.c:190)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912c0 is 32 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 1
==62965==    at 0x484E994: __strchr_sse2 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F4C: replace_blanks (rand_story.c:193)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912c1 is 33 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 1
==62965==    at 0x484E9A0: __strchr_sse2 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F4C: replace_blanks (rand_story.c:193)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912c2 is 34 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 1
==62965==    at 0x484E994: __strchr_sse2 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109CBA: replace_blanks (rand_story.c:145)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912d7 is 55 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 1
==62965==    at 0x484E9A0: __strchr_sse2 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109CBA: replace_blanks (rand_story.c:145)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912d8 is 56 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 1
==62965==    at 0x484ECC9: strnlen (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x490C5C2: strndup (strndup.c:42)
==62965==    by 0x109D19: replace_blanks (rand_story.c:153)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912d7 is 55 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 1
==62965==    at 0x484FF90: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109D19: replace_blanks (rand_story.c:153)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912d7 is 55 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 1
==62965==    at 0x484FF9D: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109D19: replace_blanks (rand_story.c:153)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912d9 is 57 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 1
==62965==    at 0x484FE71: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912e1 is 65 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid write of size 1
==62965==    at 0x484FE80: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912d9 is 57 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 8
==62965==    at 0x484FEA5: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912e8 is 72 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid write of size 8
==62965==    at 0x484FEBB: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912e0 is 64 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 8
==62965==    at 0x484FEBF: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912f0 is 80 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid write of size 8
==62965==    at 0x484FEC3: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912e8 is 72 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 8
==62965==    at 0x484FEC7: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912f8 is 6 bytes after a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid write of size 8
==62965==    at 0x484FECB: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912f0 is 80 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 8
==62965==    at 0x484FECF: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a91300 is 14 bytes after a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid write of size 8
==62965==    at 0x484FED3: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a912f8 is 6 bytes after a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 8
==62965==    at 0x484FEB4: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a91308 is 22 bytes after a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 2
==62965==    at 0x484FF60: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a915f8 is 7 bytes after a block of size 65 alloc'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965== 
==62965== Invalid write of size 2
==62965==    at 0x484FF63: memcpy@GLIBC_2.2.5 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F11: replace_blanks (rand_story.c:188)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a915f0 is 64 bytes inside a block of size 65 alloc'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965== 
==62965== Conditional jump or move depends on uninitialised value(s)
==62965==    at 0x484ED88: __strlen_sse2 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109E9F: replace_blanks (rand_story.c:183)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965== 
==62965== Invalid free() / delete / delete[] / realloc()
==62965==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109F7F: replace_blanks (rand_story.c:198)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Address 0x4a916f000000000 is not stack'd, malloc'd or (recently) free'd
==62965== 
==62965== Invalid read of size 1
==62965==    at 0x484ED76: __strlen_sse2 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x48E4E67: puts (ioputs.c:35)
==62965==    by 0x109526: main (story-step1.c:20)
==62965==  Address 0x4a912a0 is 0 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 1
==62965==    at 0x484ED84: __strlen_sse2 (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x48E4E67: puts (ioputs.c:35)
==62965==    by 0x109526: main (story-step1.c:20)
==62965==  Address 0x4a912a1 is 1 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 1
==62965==    at 0x48534C8: mempcpy (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x48F1E6B: _IO_default_xsputn (genops.c:386)
==62965==    by 0x48F1E6B: _IO_default_xsputn (genops.c:370)
==62965==    by 0x48EF71A: _IO_new_file_xsputn (fileops.c:1264)
==62965==    by 0x48EF71A: _IO_file_xsputn@@GLIBC_2.2.5 (fileops.c:1196)
==62965==    by 0x48E4F1B: puts (ioputs.c:40)
==62965==    by 0x109526: main (story-step1.c:20)
==62965==  Address 0x4a912df is 63 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid read of size 1
==62965==    at 0x48534D6: mempcpy (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x48F1E6B: _IO_default_xsputn (genops.c:386)
==62965==    by 0x48F1E6B: _IO_default_xsputn (genops.c:370)
==62965==    by 0x48EF71A: _IO_new_file_xsputn (fileops.c:1264)
==62965==    by 0x48EF71A: _IO_file_xsputn@@GLIBC_2.2.5 (fileops.c:1196)
==62965==    by 0x48E4F1B: puts (ioputs.c:40)
==62965==    by 0x109526: main (story-step1.c:20)
==62965==  Address 0x4a912dd is 61 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== Invalid free() / delete / delete[] / realloc()
==62965==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109532: main (story-step1.c:21)
==62965==  Address 0x4a912a0 is 0 bytes inside a block of size 82 free'd
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965==  Block was alloc'd at
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x1095FA: parse_story (rand_story.c:23)
==62965==    by 0x1094FE: main (story-step1.c:14)
==62965== 
==62965== 
==62965== HEAP SUMMARY:
==62965==     in use at exit: 66 bytes in 4 blocks
==62965==   total heap usage: 16 allocs, 14 frees, 9,025 bytes allocated
==62965== 
==62965== 12 bytes in 3 blocks are definitely lost in loss record 1 of 2
==62965==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x490C58E: strdup (strdup.c:42)
==62965==    by 0x109E33: replace_blanks (rand_story.c:171)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965== 
==62965== 54 bytes in 1 blocks are definitely lost in loss record 2 of 2
==62965==    at 0x484DCD3: realloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==62965==    by 0x109ED3: replace_blanks (rand_story.c:185)
==62965==    by 0x10951A: main (story-step1.c:18)
==62965== 
==62965== LEAK SUMMARY:
==62965==    definitely lost: 66 bytes in 4 blocks
==62965==    indirectly lost: 0 bytes in 0 blocks
==62965==      possibly lost: 0 bytes in 0 blocks
==62965==    still reachable: 0 bytes in 0 blocks
==62965==         suppressed: 0 bytes in 0 blocks
==62965== 
==62965== Use --track-origins=yes to see where uninitialised values come from
==62965== For lists of detected and suppressed errors, rerun with: -s
==62965== ERROR SUMMARY: 3264 errors from 34 contexts (suppressed: 0 from 0)

Step 2
Checking that story-step2 compiles
rm -f *~ story-step1 story-step2 story-step3  story-step1.o story-step2.o story-step3.o rand_story.o
gcc -std=gnu99 -pedantic -Wall -Werror -ggdb3 -c rand_story.c
gcc -std=gnu99 -pedantic -Wall -Werror -ggdb3 -c story-step2.c
gcc -o story-step2 story-step2.o rand_story.o provided.o
rm story-step2.o
The code compiled (good)
Executable story-step2 exists (good)
Now running YOUR tests for step 2

2.1: Current test is story-step2 words.txt
-----------------------------
Your output looks good. Lets check valgrind
Valgrind was clean

Step 3
Checking that story-step3 compiles
rm -f *~ story-step1 story-step2 story-step3  story-step1.o story-step2.o story-step3.o rand_story.o
gcc -std=gnu99 -pedantic -Wall -Werror -ggdb3 -c rand_story.c
gcc -std=gnu99 -pedantic -Wall -Werror -ggdb3 -c story-step3.c
gcc -o story-step3 story-step3.o rand_story.o provided.o
rm story-step3.o
The code compiled (good)
Executable story-step3 exists (good)
Now running YOUR tests for step 3

3.1: Current test is story-step3 words.txt story2.txt
-----------------------------
It looks like you got different output from us on that case.
Here is the diff (yours on left, ours on right):

Once upon a time, there was a walrus. This walrus lived in a 	Once upon a time, there was a walrus. This walrus lived in a 
peculiar cave. One day, it left its peculiar peculiar and met |	peculiar cave. One day, it left its peculiar cave and met a w
							      <
Your file did not match the expected output


Step 4
Checking that story-step4 compiles
rm -f *~ story-step1 story-step2 story-step3  story-step1.o story-step2.o story-step3.o rand_story.o
gcc -std=gnu99 -pedantic -Wall -Werror -ggdb3 -c rand_story.c
gcc -std=gnu99 -pedantic -Wall -Werror -ggdb3 -c story-step4.c
gcc -o story-step4 story-step4.o rand_story.o provided.o
rm story-step4.o
The code did not compile!

Overall Grade: NO GRADE YET
